<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Juego educativo de adivinanzas sobre personajes histÃ³ricos para niÃ±os">
    <title>Adivina el Personaje HistÃ³rico</title>
    <link rel="stylesheet" href="sociales2.css">
</head>
<body>
    <header>
        <h1>Adivina el Personaje HistÃ³rico</h1>
        <p>Â¡Lee la descripciÃ³n y selecciona el personaje correcto!</p>
    </header>

    <div class="game-container">
        <div id="game-content">
            <div class="clue-container" id="clues"></div>
            <img id="character-image" class="character-image" alt="Personaje histÃ³rico">
            <div id="options-container" class="options-container"></div>
            <div class="feedback" id="feedback"></div>
            <button id="next-button" class="next-button">Siguiente Personaje</button>
        </div>
    </div>

    <div id="score-display" class="score-container">Puntaje: 0</div>

    <script>
        const characters = [
            {
                name: "Mahatma Gandhi",
                description: "Fui un lÃ­der muy importante que luchÃ³ por la paz y la igualdad en mi paÃ­s, India. Aunque no usÃ© armas ni violencia, logrÃ© que millones de personas se unieran para luchar contra las injusticias. Usaba ropa sencilla y caminaba mucho. Me llaman el 'Padre de la India'. Â¿QuiÃ©n soy?",
                image: "imagenes/ghandi.png",
                options: [
                    "Mahatma Gandhi",
                    "Kamala Nehru",
                    "Mohammad Ali Jinnah",
                    "Indira Gandhi"
                ]
            },
            {
                name: "Cristobal ColÃ³n",
                description: "Soy un navegante muy famoso que viviÃ³ hace mÃ¡s de 500 aÃ±os. CrucÃ© el ocÃ©ano con tres barcos buscando una nueva ruta hacia Asia, pero terminÃ© llegando a un lugar lleno de palmeras y playas. Â¡Dicen que descubrÃ­ un nuevo mundo! Â¿QuiÃ©n soy?",
                image: "imagenes/colon.png",
                options: [
                    "Cristobal ColÃ³n",
                    "Marco Polo",
                    "Ponce de LeÃ³n",
                    "AmÃ©rico Vespucio"
                ]
            },
            {
                name: "Cleopatra",
                description: "Soy una reina muy famosa de Egipto. Mi belleza e inteligencia me ayudaron a formar alianzas con poderosos lÃ­deres de Roma, como Julio CÃ©sar y Marco Antonio. Fui la Ãºltima faraona de Egipto antes de que los romanos tomaran el control. Â¿QuiÃ©n soy?",
                image: "imagenes/cleopatra.png",
                options: [
                    "Cleopatra",
                    "Ramses II",
                    "Cleopatra Selene II",
                    "Cornelia"
                ]
            },
            {
                name: "MonseÃ±or Romero",
                description: "Fui un sacerdote salvadoreÃ±o que defendiÃ³ a las personas mÃ¡s pobres y a quienes sufrÃ­an injusticias en mi paÃ­s. Dije muchas veces que debÃ­amos luchar por la paz y la justicia sin usar la violencia. Aunque mi vida terminÃ³ de forma trÃ¡gica, sigo siendo un sÃ­mbolo de esperanza para El Salvador y el mundo. Me llaman 'la voz de los sin voz'. Â¿QuiÃ©n soy?",
                image: "imagenes/romero.png",
                options: [
                    "MonseÃ±or Romero",
                    "Oscar LÃ³pez",
                    "JesÃºs Delgado",
                    "Ignacio EllacurÃ­a"
                ]
            },
            {
                name: "SÃ³crates",
                description: "Fui un filÃ³sofo griego conocido como uno de los pensadores mÃ¡s importantes de la historia. EnseÃ±Ã© a muchas personas y siempre hacÃ­a preguntas para que reflexionaran sobre la vida. Mi mÃ©todo de enseÃ±anza lleva mi nombre. Â¿QuiÃ©n soy?",
                image: "imagenes/socrates.png",
                options: [
                    "SÃ³crates",
                    "Homero",
                    "Diogenes",
                    "PlatÃ³n"
                ]
            },
            {
                name: "Atlacatl",
                description: "Soy un hÃ©roe salvadoreÃ±o que liderÃ³ una gran lucha contra los espaÃ±oles. Mi pueblo me recuerda como un valiente lÃ­der indÃ­gena. Â¿QuiÃ©n soy?",
                image: "imagenes/indio.png",
                options: [
                    "Atlacatl",
                    "TecÃºn UmÃ¡n",
                    "Cipactonal",
                    "CuauhtÃ©moc"
                ]
            },
            {
                name: "Charles Darwin",
                description: "Fui un cientÃ­fico que desarrollÃ³ una teorÃ­a que cambiÃ³ el mundo. ObservÃ© animales y plantas en las Islas GalÃ¡pagos y escribÃ­ un libro llamado El origen de las especies. Mi teorÃ­a es conocida como la evoluciÃ³n. Â¿QuiÃ©n soy?",
                image: "imagenes/darwin.png",
                options: [
                    "Charles Darwin",
                    "Alfred Russel Wallace",
                    "Richard Dawkins",
                    "Richard Owen"
                ]
            },
            {
                name: "Maximiliano HernÃ¡ndez MartÃ­nez",
                description: "Fui un general que gobernÃ³ El Salvador durante 13 aÃ±os, desde 1931 hasta 1944. Durante mi presidencia, el paÃ­s viviÃ³ importantes cambios: construÃ­ el primer puente sobre el rÃ­o Lempa, desarrollÃ© la red de carreteras nacionales y llevÃ© la electricidad a muchas comunidades. TambiÃ©n enfrentÃ© una crisis econÃ³mica mundial que afectaba a nuestro paÃ­s.",
                image: "imagenes/maxi.png",
                options: [
                    "Maximiliano HernÃ¡ndez MartÃ­nez",
                    "Arturo Araujo",
                    "JosÃ© MarÃ­a Lemus",
                    "Ã“scar Osorio"
                ]
            }
        ];

        let currentCharacter = 0;
        let questionEnded = false;
        let score = 0;

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function getAchievementMessage(score) {
            const maxScore = characters.length * 100;
            const percentage = (score / maxScore) * 100;
        
            if (percentage === 100) {
                return {
                    message: "Â¡Felicitaciones! Â¡Eres un experto en historia! ğŸ†",
                    emoji: "ğŸŒŸ"
                };
            } else if (percentage >= 75) {
                return {
                    message: "Â¡Muy bien! Â¡Tienes un gran conocimiento histÃ³rico! ğŸ‰",
                    emoji: "ğŸ…"
                };
            } else if (percentage >= 50) {
                return {
                    message: "Â¡Buen trabajo! Sigue aprendiendo sobre historia. ğŸ‘",
                    emoji: "ğŸ“š"
                };
            } else {
                return {
                    message: "Â¡Sigue estudiando! La historia es fascinante y hay mucho por aprender. ğŸ’ª",
                    emoji: "ğŸ“–"
                };
            }
        }
        
        function showEndGame() {
            const achievement = getAchievementMessage(score);
            
            const gameContent = document.getElementById('game-content');
            gameContent.innerHTML = `
                <div class="end-game-container">
                    <div class="trophy-icon">${achievement.emoji}</div>
                    <div class="score-summary">Puntaje Final: ${score}</div>
                    <div class="achievement-message">${achievement.message}</div>
                    <button class="return-button" onclick="window.location.href='sociales.html'">Regresar al menÃº</button>
                </div>
            `;
            
            document.getElementById('score-display').style.display = 'none';
        }

        function displayCharacter() {
            const character = characters[currentCharacter];
            document.getElementById('clues').textContent = character.description;
            document.getElementById('score-display').textContent = `Puntaje: ${score}`;
            
            const characterImage = document.getElementById('character-image');
    characterImage.src = '';
    characterImage.classList.remove('show-image');
    
    const optionsContainer = document.getElementById('options-container');
    optionsContainer.innerHTML = '';
    
    const shuffledOptions = shuffleArray([...character.options]);
    shuffledOptions.forEach(option => {
        const button = document.createElement('button');
        button.className = 'option-button';
        button.textContent = option;
        button.onclick = () => checkAnswer(option);
        optionsContainer.appendChild(button);
    });

    // Ocultar el botÃ³n de siguiente y limpiar el feedback
    document.getElementById('next-button').style.display = 'none';
    document.getElementById('feedback').textContent = '';
    questionEnded = false;
}

// 3. Reemplazar la funciÃ³n checkAnswer() completa
function checkAnswer(selectedAnswer) {
    if (questionEnded) return;

    const feedback = document.getElementById('feedback');
    const correctAnswer = characters[currentCharacter].name;
    const buttons = document.querySelectorAll('.option-button');
    
    buttons.forEach(button => {
        if (button.textContent === correctAnswer) {
            button.classList.add('correct');
        } else if (button.textContent === selectedAnswer) {
            button.classList.add('incorrect');
        }
        button.disabled = true;
    });

    if (selectedAnswer === correctAnswer) {
        score += 100;
        feedback.textContent = "Â¡Correcto! Â¡Has adivinado el personaje!";
        feedback.style.color = '#2e7d32';
    } else {
        feedback.textContent = "No es correcto. La respuesta correcta estÃ¡ marcada en verde.";
        feedback.style.color = '#c62828';
    }
    
    document.getElementById('score-display').textContent = `Puntaje: ${score}`;
    document.getElementById('character-image').src = characters[currentCharacter].image;
    document.getElementById('character-image').classList.add('show-image');
    
    questionEnded = true;

    // Mostrar el botÃ³n de siguiente si no es el Ãºltimo personaje
    if (currentCharacter < characters.length - 1) {
        const nextButton = document.getElementById('next-button');
        nextButton.style.display = 'block';
        nextButton.onclick = () => {
            currentCharacter++;
            displayCharacter();
        };
    } else {
        // Si es el Ãºltimo personaje, mostrar el fin del juego despuÃ©s de un breve delay
        setTimeout(showEndGame, 2000);
    }
}

        // Iniciar el juego
        displayCharacter();
    </script>
</body>
</html>